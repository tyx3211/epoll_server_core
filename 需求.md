## 总体要求

为我编写一个轻量级但全面的Web-Server。

## 基本要求：

-   使用linux C Socket编程，要求使用epoll技术，注意实现日志系统，日志可支持配置输出到标准输出或者相应日志文件。
-   要求使用经典Makefile + src/ + bin/ + obj/ 四件套，采用C风格的.h和.c同目录（src/目录），要求生成详尽readme
-   结构体名字使用大驼峰命名法，函数名使用小驼峰命名法，变量名使用小驼峰命名法，常量名使用大驼峰命名法，宏名使用大写加下划线。

##  具体要求（老师给的要求，不一定全面）

-   实现HTTP请求解析功能，包括解析请求行、请求头和请求体
-   构造正确的Response头部信息，设置正确的Content-Type和Content-Length。以及一段html回复给浏览器进行显示。
-   设计一种日志记录模式，在前面server的基础上进行日志记录，要求如下：
    -   系统日志和访问日志分开记录，写入不同的日志文件
    -   系统日志设计不同级别，常见的包括DEBUG、INFO、WARNING、ERROR等。

## 答辩要求

PPT：描述下项目完成大概的思路 

-   Index界面
-   博客网站（图片和其他类型文件共三种）
-   错误响应
-   系统日志
-   配置文件
-   POST/GET实现
-   安全认证
-   server的逻辑（EPOLL）

## 项目结构

-   src/
-   bin/
-   obj/
-   readme.md
-   Makefile
-   PPT文案.md

## 重要参考！

嵌入式轻量级C语言http服务器方案: mongoose（不需要做像他那样多，只是作为一个参考）

其它轻量级C语言http服务器...

## 目前情况和我的进一步要求

老师发来的要求并不是很详细，请先按照比较笼统的答辩要求完善具体要求。

1.  首先我觉得必须要使用基本的epoll ET 模式 + 非阻塞api +  完整的消息拆分算法（由于TCP的流式协议，我们必须保证读完该连接对应缓冲区内容后，去接收并识别完整的http消息边界，直到依次识别了请求行边界后解析请求行，然后识别请求头中的每一行并解析请求头（识别的双\r\n便直到到达请求体），最后根据Content-Length识别请求体（但是是否要处理Keep-Alive？如果考虑的话，由于下个请求可能复用连接，需要把当前超过当前完整消息的内容再这次消息处理完后，作为下轮消息的开头并在下一轮处理）

2.  对于Index界面和博客网站，肯定是要写html + css + js 去实现了，稍微写一下即可。

3.  关于错误响应，我猜是类似于404错误或者403错误？并且需要回复一段html式的错误输出（呈现为一个错误页面）。

4.  关于系统日志，上述要求已经比较详细，你可以自行补充。

5.  POST/GET 实现 和 SERVER(epoll) 逻辑肯定是一起搞的，注意我的第一点要求。

6.  对于安全认证，我认为可以这样做：
    -   类似于mongoose，提供一个源码级的c文件作为依赖库，用户可以通过调用该库接口实现服务器的启动，并且可以实现一些接口逻辑，比如实现/api/login接口（C语言编写，使用我们库，可以不使用数据库，只使用简单的csv文件格式读写），从而实现安全认证。用户也需要调用特定xxxRun函数启动服务，启动时可指定监听URL加端口和配置文件路径（未配置时使用默认值）

7.  对于配置文件，我认为可以这样做：
    -   也可配置文件，配置文件可以日志文件、日志级别、日志输出方式、访问文件，未配置时使用默认值。


---
通读以上文档，完善要求，写出更详细的需求文档，接着我们依旧详细版需求文档完成任务。

内容不需很多，力求简明实现，但是功能不能缺少和偷工减料，性能目前不需太多考虑，直接敏捷开发先完成功能再说。
